CREATE TABLE PROFESSOR (
    professorMatricula VARCHAR(16) PRIMARY KEY,
    professorNome VARCHAR(64),
    professorTitulo VARCHAR(32),
    professorRank VARCHAR(16)
);

CREATE TABLE PROJETO (
    projetoNumero INTEGER PRIMARY KEY,
    projetoTitulo VARCHAR(64) UNIQUE,
    projetoDataInicio DATE,
    projetoDataTerminio DATE,
    projetoOrcamento FLOAT,
    FK_PROFESSOR_professorMatricula VARCHAR(16),
    FOREIGN KEY (FK_PROFESSOR_professorMatricula)
    REFERENCES PROFESSOR (professorMatricula)
    ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE ESTUDANTE (
    estudanteMatricula VARCHAR(16) PRIMARY KEY,
    estudanteNome VARCHAR(64),
    FK_CURSO_cursoCodigo VARCHAR(16),
    FK_ESTUDANTE_estudanteMatricula VARCHAR(16) NULL,
    FOREIGN KEY (FK_CURSO_cursoCodigo)
    REFERENCES CURSO (cursoCodigo)
    ON DELETE NO ACTION ON UPDATE CASCADE,
    FOREIGN KEY (FK_ESTUDANTE_estudanteMatricula)
    REFERENCES ESTUDANTE (estudanteMatricula)
    ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE DEPARTAMENTO (
    departamentoCodigo VARCHAR(16) PRIMARY KEY,
    departamentoNome VARCHAR(64) UNIQUE,
    departamentoSalaNumero INTEGER UNIQUE,
    FK_PROFESSOR_professorMatricula VARCHAR(16) UNIQUE,
    FOREIGN KEY (FK_PROFESSOR_professorMatricula)
    REFERENCES PROFESSOR (professorMatricula)
    ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE AREA_PESQUISA (
    areaNome VARCHAR(64) PRIMARY KEY
);

CREATE TABLE CURSO (
    cursoCodigo VARCHAR(16) PRIMARY KEY,
    cursoNome VARCHAR(64) UNIQUE,
    cursoGrau VARCHAR(32),
    FK_DEPARTAMENTO_departamentoCodigo VARCHAR(16),
    FOREIGN KEY (FK_DEPARTAMENTO_departamentoCodigo)
    REFERENCES DEPARTAMENTO (departamentoCodigo)
    ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE PROFESSOR_AUXILIA (
    FK_PROFESSOR_professorMatricula VARCHAR(16),
    FK_PROJETO_projetoNumero INTEGER,
    PRIMARY KEY (FK_PROJETO_projetoNumero, FK_PROFESSOR_professorMatricula),
    FOREIGN KEY (FK_PROFESSOR_professorMatricula)
    REFERENCES PROFESSOR (professorMatricula)
    ON DELETE NO ACTION ON UPDATE CASCADE,
    FOREIGN KEY (FK_PROJETO_projetoNumero)
    REFERENCES PROJETO (projetoNumero)
    ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE PROFESSOR_DEPARTAMENTO (
    FK_DEPARTAMENTO_departamentoCodigo VARCHAR(16),
    FK_PROFESSOR_professorMatricula VARCHAR(16),
    cargaHoraria FLOAT,
    PRIMARY KEY (FK_PROFESSOR_professorMatricula, FK_DEPARTAMENTO_departamentoCodigo),
    FOREIGN KEY (FK_DEPARTAMENTO_departamentoCodigo)
    REFERENCES DEPARTAMENTO (departamentoCodigo)
    ON DELETE NO ACTION ON UPDATE CASCADE,
    FOREIGN KEY (FK_PROFESSOR_professorMatricula)
    REFERENCES PROFESSOR (professorMatricula)
    ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE PROFESSOR_AREA (
    FK_PROFESSOR_professorMatricula VARCHAR(16),
    FK_AREA_PESQUISA_areaNome VARCHAR(64),
    PRIMARY KEY (FK_PROFESSOR_professorMatricula, FK_AREA_PESQUISA_areaNome),
    FOREIGN KEY (FK_PROFESSOR_professorMatricula)
    REFERENCES PROFESSOR (professorMatricula)
    ON DELETE NO ACTION ON UPDATE CASCADE,
    FOREIGN KEY (FK_AREA_PESQUISA_areaNome)
    REFERENCES AREA_PESQUISA (areaNome)
    ON DELETE NO ACTION ON UPDATE CASCADE
);

CREATE TABLE ESTUDANTE_PROJETO (
    FK_PROJETO_projetoNumero INTEGER,
    FK_ESTUDANTE_estudanteMatricula VARCHAR(16),
    PRIMARY KEY (FK_ESTUDANTE_estudanteMatricula, FK_PROJETO_projetoNumero),
    FOREIGN KEY (FK_PROJETO_projetoNumero)
    REFERENCES PROJETO (projetoNumero)
    ON DELETE NO ACTION ON UPDATE CASCADE,
    FOREIGN KEY (FK_ESTUDANTE_estudanteMatricula)
    REFERENCES ESTUDANTE (estudanteMatricula)
    ON DELETE NO ACTION ON UPDATE CASCADE
);
